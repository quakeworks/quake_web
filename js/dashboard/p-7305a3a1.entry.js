import{r as t,c as n,h as i,H as e,g as r}from"./p-d61c641e.js";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,n,i){return t(i={path:n,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}o((function(){!function(t){!function(n){var i="URLSearchParams"in t,e="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return e&&(n[Symbol.iterator]=function(){return n}),n}function d(t){this.map={},t instanceof d?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(t){return new Promise((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function w(t){var n=new FileReader,i=v(n);return n.readAsArrayBuffer(t),i}function p(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&r&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var t,n,i,e=l(this);if(e)return e;if(this._bodyBlob)return t=this._bodyBlob,i=v(n=new FileReader),n.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),i=new Array(n.length),e=0;e<n.length;e++)i[e]=String.fromCharCode(n[e]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,n){t=a(t),n=h(n);var i=this.map[t];this.map[t]=i?i+", "+n:n},d.prototype.delete=function(t){delete this.map[a(t)]},d.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},d.prototype.set=function(t,n){this.map[a(t)]=h(n)},d.prototype.forEach=function(t,n){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(n,this.map[i],i,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),f(t)},d.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),f(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),f(t)},e&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,n){var i,e,r=(n=n||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new d(n.headers)),this.method=(e=(i=n.method||this.method||"GET").toUpperCase(),y.indexOf(e)>-1?e:i),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}})),n}function x(t,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new d(n.headers),this.url=n.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];x.redirect=function(t,n){if(-1===S.indexOf(n))throw new RangeError("Invalid status code");return new x(null,{status:n,headers:{location:t}})},n.DOMException=t.DOMException;try{new n.DOMException}catch(t){n.DOMException=function(t,n){this.message=t,this.name=n;var i=Error(t);this.stack=i.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function E(t,i){return new Promise((function(e,s){var o=new b(t,i);if(o.signal&&o.signal.aborted)return s(new n.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var t,n,i={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",n=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}})),n)};i.url="responseURL"in u?u.responseURL:i.headers.get("X-Request-URL"),e(new x("response"in u?u.response:u.responseText,i))},u.onerror=function(){s(new TypeError("Network request failed"))},u.ontimeout=function(){s(new TypeError("Network request failed"))},u.onabort=function(){s(new n.DOMException("Aborted","AbortError"))},u.open(o.method,o.url,!0),"include"===o.credentials?u.withCredentials=!0:"omit"===o.credentials&&(u.withCredentials=!1),"responseType"in u&&r&&(u.responseType="blob"),o.headers.forEach((function(t,n){u.setRequestHeader(n,t)})),o.signal&&(o.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&o.signal.removeEventListener("abort",c)}),u.send(void 0===o._bodyInit?null:o._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=d,t.Request=b,t.Response=x),n.Headers=d,n.Request=b,n.Response=x,n.fetch=E,Object.defineProperty(n,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:s)}));var u=o((function(t,n){!function(t){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,i)};function i(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var e=function(){return(e=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var r in n=arguments[i])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function r(t,n,i,e){return new(i||(i=Promise))((function(r,s){function o(t){try{c(e.next(t))}catch(t){s(t)}}function u(t){try{c(e.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((e=e.apply(t,n||[])).next())}))}function s(t,n){var i,e,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,e&&(r=2&s[0]?e.return:s[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,s[1])).done)return r;switch(e=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,e=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],e=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var o=function(t){function n(i,e,r,s){var o,u,c,a=t.call(this,i)||this;return a.name="MeiliSearchCommunicationError",a.type="MeiliSearchCommunicationError",e instanceof Response&&(a.message=e.statusText,a.statusCode=e.status),e instanceof Error&&(a.errno=e.errno,a.code=e.code),s?(a.stack=s,a.stack=null===(o=a.stack)||void 0===o?void 0:o.replace(/(TypeError|FetchError)/,a.name),a.stack=null===(u=a.stack)||void 0===u?void 0:u.replace("Failed to fetch","request to "+r+" failed, reason: connect ECONNREFUSED"),a.stack=null===(c=a.stack)||void 0===c?void 0:c.replace("Not Found","Not Found: "+r)):Error.captureStackTrace&&Error.captureStackTrace(a,n),a}return i(n,t),n}(Error),u=function(t){function n(n,i){var e=t.call(this,n.message)||this;return e.name="MeiliSearchApiError",e.code=n.code,e.type=n.type,e.link=n.link,e.message=n.message,e.httpStatus=i,Object.setPrototypeOf(e,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,u),e}return i(n,t),n}(Error);function c(t){return r(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:if(t.ok)return[3,5];n=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.json()];case 2:return n=i.sent(),[3,4];case 3:throw i.sent(),new o(t.statusText,t,t.url);case 4:throw new u(n,t.status);case 5:return[2,t]}}))}))}function a(t,n,i){if("MeiliSearchApiError"!==t.type)throw new o(t.message,t,i,n);throw t}var h=function(t){function n(i){var e=t.call(this,i)||this;return e.name="MeiliSearchError",e.type="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(e,n),e}return i(n,t),n}(Error),f=function(t){function n(i){var e=t.call(this,i)||this;return e.name="MeiliSearchTimeOutError",e.type=e.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(e,n),e}return i(n,t),n}(Error),d=function(){function t(t){this.headers=e(e(e({},t.headers||{}),{"Content-Type":"application/json"}),t.apiKey?{"X-Meili-API-Key":t.apiKey}:{}),this.url=new URL(t.host)}return t.addTrailingSlash=function(t){return t.endsWith("/")||(t+="/"),t},t.prototype.request=function(t){var n=t.method,i=t.url,o=t.params,u=t.body,h=t.config;return r(this,void 0,void 0,(function(){var t,r,f,d;return s(this,(function(s){switch(s.label){case 0:t=new URL(i,this.url),o&&(r=new URLSearchParams,Object.keys(o).filter((function(t){return null!==o[t]})).map((function(t){return r.set(t,o[t])})),t.search=r.toString()),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(t.toString(),e(e({},h),{method:n,body:JSON.stringify(u),headers:this.headers})).then((function(t){return c(t)}))];case 2:return[4,s.sent().text()];case 3:f=s.sent();try{return[2,JSON.parse(f)]}catch(t){return[2]}return[3,5];case 4:return a(d=s.sent(),d.stack,t.toString()),[3,5];case 5:return[2]}}))}))},t.prototype.get=function(t,n,i){return r(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.request({method:"GET",url:t,params:n,config:i})];case 1:return[2,e.sent()]}}))}))},t.prototype.post=function(t,n,i,e){return r(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.request({method:"POST",url:t,body:n,params:i,config:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.put=function(t,n,i,e){return r(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.request({method:"PUT",url:t,body:n,params:i,config:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.delete=function(t,n,i,e){return r(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.request({method:"DELETE",url:t,body:n,params:i,config:e})];case 1:return[2,r.sent()]}}))}))},t}();function l(t){return Object.entries(t).reduce((function(t,n){var i=n[1];return void 0!==i&&(t[n[0]]=i),t}),{})}function v(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){return setTimeout(n,t)}))];case 1:return[2,n.sent()]}}))}))}function w(t){return t.startsWith("https://")||t.startsWith("http://")?t:"http://"+t}var p=function(){function t(t,n,i){this.uid=n,this.primaryKey=i,this.httpRequest=new d(t)}return t.prototype.waitForPendingUpdate=function(t,n){var i=void 0===n?{}:n,e=i.timeOutMs,o=void 0===e?5e3:e,u=i.intervalMs,c=void 0===u?50:u;return r(this,void 0,void 0,(function(){var n,i;return s(this,(function(e){switch(e.label){case 0:n=Date.now(),e.label=1;case 1:return Date.now()-n<o?[4,this.getUpdateStatus(t)]:[3,4];case 2:return i=e.sent(),["enqueued","processing"].includes(i.status)?[4,v(c)]:[2,i];case 3:return e.sent(),[3,1];case 4:throw new f("timeout of "+o+"ms has exceeded on process "+t+" when waiting for pending update to resolve.")}}))}))},t.prototype.search=function(t,n,i){return r(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/search",l(e(e({},n),{q:t})),void 0,i)];case 1:return[2,r.sent()]}}))}))},t.prototype.searchGet=function(t,n,i){return r(this,void 0,void 0,(function(){var r,o,u;return s(this,(function(s){switch(s.label){case 0:return r="indexes/"+this.uid+"/search",o=function(t){if("string"==typeof t)return t;if(Array.isArray(t))throw new h("The filter query parameter should be in string format when using searchGet")},u=e(e({q:t},n),{filter:o(null==n?void 0:n.filter),sort:(null==n?void 0:n.sort)?n.sort.join(","):void 0,facetsDistribution:(null==n?void 0:n.facetsDistribution)?n.facetsDistribution.join(","):void 0,attributesToRetrieve:(null==n?void 0:n.attributesToRetrieve)?n.attributesToRetrieve.join(","):void 0,attributesToCrop:(null==n?void 0:n.attributesToCrop)?n.attributesToCrop.join(","):void 0,attributesToHighlight:(null==n?void 0:n.attributesToHighlight)?n.attributesToHighlight.join(","):void 0}),[4,this.httpRequest.get(r,l(u),i)];case 1:return[2,s.sent()]}}))}))},t.prototype.getRawInfo=function(){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid)];case 1:return t=n.sent(),this.primaryKey=t.primaryKey,[2,t]}}))}))},t.prototype.fetchInfo=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getRawInfo()];case 1:return t.sent(),[2,this]}}))}))},t.prototype.fetchPrimaryKey=function(){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=this,[4,this.getRawInfo()];case 1:return t.primaryKey=n.sent().primaryKey,[2,this.primaryKey]}}))}))},t.create=function(n,i,o){return void 0===i&&(i={}),r(this,void 0,void 0,(function(){var r;return s(this,(function(s){switch(s.label){case 0:return"indexes",[4,new d(o).post("indexes",e(e({},i),{uid:n}))];case 1:return r=s.sent(),[2,new t(o,n,r.primaryKey)]}}))}))},t.prototype.update=function(t){return r(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,this.httpRequest.put("indexes/"+this.uid,t)];case 1:return n=i.sent(),this.primaryKey=n.primaryKey,[2,this]}}))}))},t.prototype.delete=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid)];case 1:return[2,t.sent()]}}))}))},t.prototype.deleteIfExists=function(){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.delete()];case 1:return n.sent(),[2,!0];case 2:if("index_not_found"===(t=n.sent()).code)return[2,!1];throw t;case 3:return[2]}}))}))},t.prototype.getAllUpdateStatus=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/updates")];case 1:return[2,t.sent()]}}))}))},t.prototype.getUpdateStatus=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/updates/"+t)];case 1:return[2,n.sent()]}}))}))},t.prototype.getStats=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/stats")];case 1:return[2,t.sent()]}}))}))},t.prototype.getDocuments=function(t){return r(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return n="indexes/"+this.uid+"/documents",void 0!==t&&Array.isArray(t.attributesToRetrieve)&&(i=t.attributesToRetrieve.join(",")),[4,this.httpRequest.get(n,e(e({},t),void 0!==i?{attributesToRetrieve:i}:{}))];case 1:return[2,r.sent()]}}))}))},t.prototype.getDocument=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/documents/"+t)];case 1:return[2,n.sent()]}}))}))},t.prototype.addDocuments=function(t,n){return r(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/documents",t,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.addDocumentsInBatches=function(t,n,i){return void 0===n&&(n=1e3),r(this,void 0,void 0,(function(){var e,r,o,u;return s(this,(function(s){switch(s.label){case 0:e=[],r=0,s.label=1;case 1:return r<t.length?(u=(o=e).push,[4,this.addDocuments(t.slice(r,r+n),i)]):[3,4];case 2:u.apply(o,[s.sent()]),s.label=3;case 3:return r+=n,[3,1];case 4:return[2,e]}}))}))},t.prototype.updateDocuments=function(t,n){return r(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,this.httpRequest.put("indexes/"+this.uid+"/documents",t,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.updateDocumentsInBatches=function(t,n,i){return void 0===n&&(n=1e3),r(this,void 0,void 0,(function(){var e,r,o,u;return s(this,(function(s){switch(s.label){case 0:e=[],r=0,s.label=1;case 1:return r<t.length?(u=(o=e).push,[4,this.updateDocuments(t.slice(r,r+n),i)]):[3,4];case 2:u.apply(o,[s.sent()]),s.label=3;case 3:return r+=n,[3,1];case 4:return[2,e]}}))}))},t.prototype.deleteDocument=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/documents/"+t)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteDocuments=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/documents/delete-batch",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteAllDocuments=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/documents")];case 1:return[2,t.sent()]}}))}))},t.prototype.getSettings=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateSettings=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetSettings=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings")];case 1:return[2,t.sent()]}}))}))},t.prototype.getSynonyms=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/synonyms")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateSynonyms=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/synonyms",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetSynonyms=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/synonyms")];case 1:return[2,t.sent()]}}))}))},t.prototype.getStopWords=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/stop-words")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateStopWords=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/stop-words",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetStopWords=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/stop-words")];case 1:return[2,t.sent()]}}))}))},t.prototype.getRankingRules=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/ranking-rules")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateRankingRules=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/ranking-rules",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetRankingRules=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/ranking-rules")];case 1:return[2,t.sent()]}}))}))},t.prototype.getDistinctAttribute=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/distinct-attribute")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateDistinctAttribute=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/distinct-attribute",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetDistinctAttribute=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/distinct-attribute")];case 1:return[2,t.sent()]}}))}))},t.prototype.getFilterableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/filterable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateFilterableAttributes=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/filterable-attributes",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetFilterableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/filterable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.getSortableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/sortable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateSortableAttributes=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/sortable-attributes",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetSortableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/sortable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.getSearchableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/searchable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateSearchableAttributes=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/searchable-attributes",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetSearchableAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/searchable-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.getDisplayedAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes/"+this.uid+"/settings/displayed-attributes")];case 1:return[2,t.sent()]}}))}))},t.prototype.updateDisplayedAttributes=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.post("indexes/"+this.uid+"/settings/displayed-attributes",t)];case 1:return[2,n.sent()]}}))}))},t.prototype.resetDisplayedAttributes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.delete("indexes/"+this.uid+"/settings/displayed-attributes")];case 1:return[2,t.sent()]}}))}))},t}(),m=function(){function t(t){t.host=w(t.host),t.host=d.addTrailingSlash(t.host),this.config=t,this.httpRequest=new d(t)}return t.prototype.index=function(t){return new p(this.config,t)},t.prototype.getIndex=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(){return[2,new p(this.config,t).fetchInfo()]}))}))},t.prototype.getRawIndex=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(){return[2,new p(this.config,t).getRawInfo()]}))}))},t.prototype.getOrCreateIndex=function(t,n){return void 0===n&&(n={}),r(this,void 0,void 0,(function(){var i;return s(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getIndex(t)];case 1:return[2,e.sent()];case 2:if("index_not_found"===(i=e.sent()).code)return[2,this.createIndex(t,n)];throw i;case 3:return[2]}}))}))},t.prototype.getIndexes=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("indexes")];case 1:return[2,t.sent()]}}))}))},t.prototype.createIndex=function(t,n){return void 0===n&&(n={}),r(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,p.create(t,n,this.config)];case 1:return[2,i.sent()]}}))}))},t.prototype.updateIndex=function(t,n){return void 0===n&&(n={}),r(this,void 0,void 0,(function(){return s(this,(function(){return[2,new p(this.config,t).update(n)]}))}))},t.prototype.deleteIndex=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(){return[2,new p(this.config,t).delete()]}))}))},t.prototype.deleteIndexIfExists=function(t){return r(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.deleteIndex(t)];case 1:return i.sent(),[2,!0];case 2:if("index_not_found"===(n=i.sent()).code)return[2,!1];throw n;case 3:return[2]}}))}))},t.prototype.getKeys=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("keys")];case 1:return[2,t.sent()]}}))}))},t.prototype.health=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("health")];case 1:return[2,t.sent()]}}))}))},t.prototype.isHealthy=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.httpRequest.get("health")];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}}))}))},t.prototype.getStats=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("stats")];case 1:return[2,t.sent()]}}))}))},t.prototype.getVersion=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.get("version")];case 1:return[2,t.sent()]}}))}))},t.prototype.createDump=function(){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.httpRequest.post("dumps")];case 1:return[2,t.sent()]}}))}))},t.prototype.getDumpStatus=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.httpRequest.get("dumps/"+t+"/status")];case 1:return[2,n.sent()]}}))}))},t}();t.HttpRequests=d,t.Index=p,t.MeiliSearch=m,t.MeiliSearchApiError=u,t.MeiliSearchCommunicationError=o,t.MeiliSearchError=h,t.MeiliSearchTimeOutError=f,t.addProtocolIfNotPresent=w,t.default=m,t.httpErrorHandler=a,t.httpResponseErrorHandler=c,t.removeUndefinedFromObject=l,t.sleep=v,Object.defineProperty(t,"__esModule",{value:!0})}(n)})),c=function(t,n){return function(){for(var i=new Array(arguments.length),e=0;e<i.length;e++)i[e]=arguments[e];return t.apply(n,i)}},a=Object.prototype.toString;function h(t){return"[object Array]"===a.call(t)}function f(t){return void 0===t}function d(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==a.call(t))return!1;var n=Object.getPrototypeOf(t);return null===n||n===Object.prototype}function v(t){return"[object Function]"===a.call(t)}function w(t,n){if(null!=t)if("object"!=typeof t&&(t=[t]),h(t))for(var i=0,e=t.length;i<e;i++)n.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.call(null,t[r],r,t)}var p={isArray:h,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:d,isPlainObject:l,isUndefined:f,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:v,isStream:function(t){return d(t)&&v(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:w,merge:function t(){var n={};function i(i,e){n[e]=l(n[e])&&l(i)?t(n[e],i):l(i)?t({},i):h(i)?i.slice():i}for(var e=0,r=arguments.length;e<r;e++)w(arguments[e],i);return n},extend:function(t,n,i){return w(n,(function(n,e){t[e]=i&&"function"==typeof n?c(n,i):n})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function m(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var y=function(t,n,i){if(!n)return t;var e;if(i)e=i(n);else if(p.isURLSearchParams(n))e=n.toString();else{var r=[];p.forEach(n,(function(t,n){null!=t&&(p.isArray(t)?n+="[]":t=[t],p.forEach(t,(function(t){p.isDate(t)?t=t.toISOString():p.isObject(t)&&(t=JSON.stringify(t)),r.push(m(n)+"="+m(t))})))})),e=r.join("&")}if(e){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+e}return t};function b(){this.handlers=[]}b.prototype.use=function(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},b.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},b.prototype.forEach=function(t){p.forEach(this.handlers,(function(n){null!==n&&t(n)}))};var g=b,x=function(t,n){p.forEach(t,(function(i,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[e])}))},S=function(t,n,i,e,r){return t.config=n,i&&(t.code=i),t.request=e,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},E=function(t,n,i,e,r){var s=new Error(t);return S(s,n,i,e,r)},A=p.isStandardBrowserEnv()?{write:function(t,n,i,e,r,s){var o=[];o.push(t+"="+encodeURIComponent(n)),p.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),p.isString(e)&&o.push("path="+e),p.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},T=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],j=p.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function e(t){var e=t;return n&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=e(window.location.href),function(n){var i=p.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0};function M(t){this.message=t}M.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},M.prototype.__CANCEL__=!0;var O=M,D={"Content-Type":"application/x-www-form-urlencoded"};function R(t,n){!p.isUndefined(t)&&p.isUndefined(t["Content-Type"])&&(t["Content-Type"]=n)}var _,k={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(_=function(t){return new Promise((function(n,i){var e,r=t.data,s=t.headers,o=t.responseType;function u(){t.cancelToken&&t.cancelToken.unsubscribe(e),t.signal&&t.signal.removeEventListener("abort",e)}p.isFormData(r)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var a=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(a+":"+h)}var f,d,l=(d=t.url,(f=t.baseURL)&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(d)?function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}(f,d):d);function v(){if(c){var e,r,s,a,h,f="getAllResponseHeaders"in c?(e=c.getAllResponseHeaders(),h={},e?(p.forEach(e.split("\n"),(function(t){if(a=t.indexOf(":"),r=p.trim(t.substr(0,a)).toLowerCase(),s=p.trim(t.substr(a+1)),r){if(h[r]&&T.indexOf(r)>=0)return;h[r]="set-cookie"===r?(h[r]?h[r]:[]).concat([s]):h[r]?h[r]+", "+s:s}})),h):h):null;!function(t,n,i){var e=i.config.validateStatus;i.status&&e&&!e(i.status)?n(E("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}((function(t){n(t),u()}),(function(t){i(t),u()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:f,config:t,request:c}),c=null}}if(c.open(t.method.toUpperCase(),y(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=v:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(v)},c.onabort=function(){c&&(i(E("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(E("Network Error",t,null,c)),c=null},c.ontimeout=function(){var n=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";t.timeoutErrorMessage&&(n=t.timeoutErrorMessage),i(E(n,t,(t.transitional||N.transitional).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},p.isStandardBrowserEnv()){var w=(t.withCredentials||j(l))&&t.xsrfCookieName?A.read(t.xsrfCookieName):void 0;w&&(s[t.xsrfHeaderName]=w)}"setRequestHeader"in c&&p.forEach(s,(function(t,n){void 0===r&&"content-type"===n.toLowerCase()?delete s[n]:c.setRequestHeader(n,t)})),p.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&"json"!==o&&(c.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&c.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(e=function(t){c&&(i(!t||t&&t.type?new O("canceled"):t),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(e),t.signal&&(t.signal.aborted?e():t.signal.addEventListener("abort",e))),r||(r=null),c.send(r)}))}),_),transformRequest:[function(t,n){return x(n,"Accept"),x(n,"Content-Type"),p.isFormData(t)||p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)?t:p.isArrayBufferView(t)?t.buffer:p.isURLSearchParams(t)?(R(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):p.isObject(t)||n&&"application/json"===n["Content-Type"]?(R(n,"application/json"),function(t){if(p.isString(t))try{return(0,JSON.parse)(t),p.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var n=this.transitional||k.transitional,i=!(n&&n.silentJSONParsing)&&"json"===this.responseType;if(i||n&&n.forcedJSONParsing&&p.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw S(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};p.forEach(["delete","get","head"],(function(t){k.headers[t]={}})),p.forEach(["post","put","patch"],(function(t){k.headers[t]=p.merge(D)}));var N=k,P=function(t,n,i){var e=this||N;return p.forEach(i,(function(i){t=i.call(e,t,n)})),t},U=function(t){return!(!t||!t.__CANCEL__)};function C(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new O("canceled")}var q=function(t){return C(t),t.headers=t.headers||{},t.data=P.call(t,t.data,t.headers,t.transformRequest),t.headers=p.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),p.forEach(["delete","get","head","post","put","patch","common"],(function(n){delete t.headers[n]})),(t.adapter||N.adapter)(t).then((function(n){return C(t),n.data=P.call(t,n.data,n.headers,t.transformResponse),n}),(function(n){return U(n)||(C(t),n&&n.response&&(n.response.data=P.call(t,n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)}))},F=function(t,n){n=n||{};var i={};function e(t,n){return p.isPlainObject(t)&&p.isPlainObject(n)?p.merge(t,n):p.isPlainObject(n)?p.merge({},n):p.isArray(n)?n.slice():n}function r(i){return p.isUndefined(n[i])?p.isUndefined(t[i])?void 0:e(void 0,t[i]):e(t[i],n[i])}function s(t){if(!p.isUndefined(n[t]))return e(void 0,n[t])}function o(i){return p.isUndefined(n[i])?p.isUndefined(t[i])?void 0:e(void 0,t[i]):e(void 0,n[i])}function u(i){return i in n?e(t[i],n[i]):i in t?e(void 0,t[i]):void 0}var c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return p.forEach(Object.keys(t).concat(Object.keys(n)),(function(t){var n=c[t]||r,e=n(t);p.isUndefined(e)&&n!==u||(i[t]=e)})),i},L={};["object","boolean","number","function","string","symbol"].forEach((function(t,n){L[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}}));var B={};L.transitional=function(t,n,i){function e(t,n){return"[Axios v0.24.0] Transitional option '"+t+"'"+n+(i?". "+i:"")}return function(i,r,s){if(!1===t)throw new Error(e(r," has been removed"+(n?" in "+n:"")));return n&&!B[r]&&(B[r]=!0,console.warn(e(r," has been deprecated since v"+n+" and will be removed in the near future"))),!t||t(i,r,s)}};var $={assertOptions:function(t,n,i){if("object"!=typeof t)throw new TypeError("options must be an object");for(var e=Object.keys(t),r=e.length;r-- >0;){var s=e[r],o=n[s];if(o){var u=t[s],c=void 0===u||o(u,s,t);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==i)throw Error("Unknown option "+s)}},validators:L},I=$.validators;function H(t){this.defaults=t,this.interceptors={request:new g,response:new g}}H.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=F(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var n=t.transitional;void 0!==n&&$.assertOptions(n,{silentJSONParsing:I.transitional(I.boolean),forcedJSONParsing:I.transitional(I.boolean),clarifyTimeoutError:I.transitional(I.boolean)},!1);var i=[],e=!0;this.interceptors.request.forEach((function(n){"function"==typeof n.runWhen&&!1===n.runWhen(t)||(e=e&&n.synchronous,i.unshift(n.fulfilled,n.rejected))}));var r,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!e){var o=[q,void 0];for(Array.prototype.unshift.apply(o,i),o=o.concat(s),r=Promise.resolve(t);o.length;)r=r.then(o.shift(),o.shift());return r}for(var u=t;i.length;){var c=i.shift(),a=i.shift();try{u=c(u)}catch(t){a(t);break}}try{r=q(u)}catch(t){return Promise.reject(t)}for(;s.length;)r=r.then(s.shift(),s.shift());return r},H.prototype.getUri=function(t){return t=F(this.defaults,t),y(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},p.forEach(["delete","get","head","options"],(function(t){H.prototype[t]=function(n,i){return this.request(F(i||{},{method:t,url:n,data:(i||{}).data}))}})),p.forEach(["post","put","patch"],(function(t){H.prototype[t]=function(n,i,e){return this.request(F(e||{},{method:t,url:n,data:i}))}}));var J=H;function Y(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var i=this;this.promise.then((function(t){if(i._listeners){var n,e=i._listeners.length;for(n=0;n<e;n++)i._listeners[n](t);i._listeners=null}})),this.promise.then=function(t){var n,e=new Promise((function(t){i.subscribe(t),n=t})).then(t);return e.cancel=function(){i.unsubscribe(n)},e},t((function(t){i.reason||(i.reason=new O(t),n(i.reason))}))}Y.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Y.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Y.prototype.unsubscribe=function(t){if(this._listeners){var n=this._listeners.indexOf(t);-1!==n&&this._listeners.splice(n,1)}},Y.source=function(){var t;return{token:new Y((function(n){t=n})),cancel:t}};var W=Y,z=function t(n){var i=new J(n),e=c(J.prototype.request,i);return p.extend(e,J.prototype,i),p.extend(e,i),e.create=function(i){return t(F(n,i))},e}(N);z.Axios=J,z.Cancel=O,z.CancelToken=W,z.isCancel=U,z.VERSION="0.24.0",z.all=function(t){return Promise.all(t)},z.spread=function(t){return function(n){return t.apply(null,n)}},z.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var X=z;X.default=z;var G=X;let K=class{constructor(i){t(this,i),this.fetchSuccess=n(this,"fetchSuccess",7),this.fetchAllSuccess=n(this,"fetchAllSuccess",7),this.entryType=[],this.type="",this.url="",this.searchEngine=!1,this.client=new u.MeiliSearch({host:"http://127.0.0.1:7700"})}getRequest(t){return G.get(t).then((t=>this.fetchSuccess.emit(t)))}postRequest(t,n){return G.post(t,n).then((t=>this.fetchSuccess.emit(t)))}componentWillLoad(){switch(this.type){case"suggest":this.url="/action/suggest";break;case"layout":this.url="/layout/dashboard";break;case"actionQuery":break;default:console.log(this.type)}this.getRequest(this.url).then((()=>{}))}render(){return i(e,null)}};var Q=o((function(t){t.exports=function(){var t=6e4,n=36e5,i="millisecond",e="second",r="minute",s="hour",o="day",u="week",c="month",a="quarter",h="year",f="date",d="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,n,i){var e=String(t);return!e||e.length>=n?t:""+Array(n+1-e.length).join(i)+t},m={s:p,z:function(t){var n=-t.utcOffset(),i=Math.abs(n),e=Math.floor(i/60),r=i%60;return(n<=0?"+":"-")+p(e,2,"0")+":"+p(r,2,"0")},m:function t(n,i){if(n.date()<i.date())return-t(i,n);var e=12*(i.year()-n.year())+(i.month()-n.month()),r=n.clone().add(e,c),s=i-r<0,o=n.clone().add(e+(s?-1:1),c);return+(-(e+(i-r)/(s?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:u,d:o,D:f,h:s,m:r,s:e,ms:i,Q:a}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",b={};b[y]=w;var g=function(t){return t instanceof A},x=function(t,n,i){var e;if(!t)return y;if("string"==typeof t)b[t]&&(e=t),n&&(b[t]=n,e=t);else{var r=t.name;b[r]=t,e=r}return!i&&e&&(y=e),e||!i&&y},S=function(t,n){if(g(t))return t.clone();var i="object"==typeof n?n:{};return i.date=t,i.args=arguments,new A(i)},E=m;E.l=x,E.i=g,E.w=function(t,n){return S(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var A=function(){function w(t){this.$L=x(t.locale,null,!0),this.parse(t)}var p=w.prototype;return p.parse=function(t){this.$d=function(t){var n=t.date,i=t.utc;if(null===n)return new Date(NaN);if(E.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var e=n.match(l);if(e){var r=e[2]-1||0,s=(e[7]||"0").substring(0,3);return i?new Date(Date.UTC(e[1],r,e[3]||1,e[4]||0,e[5]||0,e[6]||0,s)):new Date(e[1],r,e[3]||1,e[4]||0,e[5]||0,e[6]||0,s)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return E},p.isValid=function(){return!(this.$d.toString()===d)},p.isSame=function(t,n){var i=S(t);return this.startOf(n)<=i&&i<=this.endOf(n)},p.isAfter=function(t,n){return S(t)<this.startOf(n)},p.isBefore=function(t,n){return this.endOf(n)<S(t)},p.$g=function(t,n,i){return E.u(t)?this[n]:this.set(i,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,n){var i=this,a=!!E.u(n)||n,d=E.p(t),l=function(t,n){var e=E.w(i.$u?Date.UTC(i.$y,n,t):new Date(i.$y,n,t),i);return a?e:e.endOf(o)},v=function(t,n){return E.w(i.toDate()[t].apply(i.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(n)),i)},w=this.$W,p=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case h:return a?l(1,0):l(31,11);case c:return a?l(1,p):l(0,p+1);case u:var b=this.$locale().weekStart||0,g=(w<b?w+7:w)-b;return l(a?m-g:m+(6-g),p);case o:case f:return v(y+"Hours",0);case s:return v(y+"Minutes",1);case r:return v(y+"Seconds",2);case e:return v(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,n){var u,a=E.p(t),d="set"+(this.$u?"UTC":""),l=(u={},u[o]=d+"Date",u[f]=d+"Date",u[c]=d+"Month",u[h]=d+"FullYear",u[s]=d+"Hours",u[r]=d+"Minutes",u[e]=d+"Seconds",u[i]=d+"Milliseconds",u)[a],v=a===o?this.$D+(n-this.$W):n;if(a===c||a===h){var w=this.clone().set(f,1);w.$d[l](v),w.init(),this.$d=w.set(f,Math.min(this.$D,w.daysInMonth())).$d}else l&&this.$d[l](v);return this.init(),this},p.set=function(t,n){return this.clone().$set(t,n)},p.get=function(t){return this[E.p(t)]()},p.add=function(i,a){var f,d=this;i=Number(i);var l=E.p(a),v=function(t){var n=S(d);return E.w(n.date(n.date()+Math.round(t*i)),d)};if(l===c)return this.set(c,this.$M+i);if(l===h)return this.set(h,this.$y+i);if(l===o)return v(1);if(l===u)return v(7);var w=(f={},f[r]=t,f[s]=n,f[e]=1e3,f)[l]||1,p=this.$d.getTime()+i*w;return E.w(p,this)},p.subtract=function(t,n){return this.add(-1*t,n)},p.format=function(t){var n=this,i=this.$locale();if(!this.isValid())return i.invalidDate||d;var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=E.z(this),s=this.$H,o=this.$m,u=this.$M,c=i.weekdays,a=i.months,h=function(t,i,r,s){return t&&(t[i]||t(n,e))||r[i].substr(0,s)},f=function(t){return E.s(s%12||12,t,"0")},l=i.meridiem||function(t,n,i){var e=t<12?"AM":"PM";return i?e.toLowerCase():e},w={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:E.s(u+1,2,"0"),MMM:h(i.monthsShort,u,a,3),MMMM:h(a,u),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,c,2),ddd:h(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:E.s(s,2,"0"),h:f(1),hh:f(2),a:l(s,o,!0),A:l(s,o,!1),m:String(o),mm:E.s(o,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:r};return e.replace(v,(function(t,n){return n||w[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(i,f,d){var l,v=E.p(f),w=S(i),p=(w.utcOffset()-this.utcOffset())*t,m=this-w,y=E.m(this,w);return y=(l={},l[h]=y/12,l[c]=y,l[a]=y/3,l[u]=(m-p)/6048e5,l[o]=(m-p)/864e5,l[s]=m/n,l[r]=m/t,l[e]=m/1e3,l)[v]||m,d?y:E.a(y)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return b[this.$L]},p.locale=function(t,n){if(!t)return this.$L;var i=this.clone(),e=x(t,n,!0);return e&&(i.$L=e),i},p.clone=function(){return E.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},w}(),T=A.prototype;return S.prototype=T,[["$ms",i],["$s",e],["$m",r],["$H",s],["$W",o],["$M",c],["$y",h],["$D",f]].forEach((function(t){T[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),S.extend=function(t,n){return t.$i||(t(n,A,S),t.$i=!0),S},S.locale=x,S.isDayjs=g,S.unix=function(t){return S(1e3*t)},S.en=b[y],S.Ls=b,S.p={},S}()}));let Z,V=0,tt=null;function nt(){return null!==tt&&tt.buffer===Z.memory.buffer||(tt=new Uint8Array(Z.memory.buffer)),tt}let it=new TextEncoder("utf-8");const et="function"==typeof it.encodeInto?function(t,n){return it.encodeInto(t,n)}:function(t,n){const i=it.encode(t);return n.set(i),{read:t.length,written:i.length}};function rt(t,n,i){if(void 0===i){const i=it.encode(t),e=n(i.length);return nt().subarray(e,e+i.length).set(i),V=i.length,e}let e=t.length,r=n(e);const s=nt();let o=0;for(;o<e;o++){const n=t.charCodeAt(o);if(n>127)break;s[r+o]=n}if(o!==e){0!==o&&(t=t.slice(o)),r=i(r,e,e=o+3*t.length);const n=nt().subarray(r+o,r+e);o+=et(t,n).written}return V=o,r}let st=null;function ot(){return null!==st&&st.buffer===Z.memory.buffer||(st=new Int32Array(Z.memory.buffer)),st}let ut=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function ct(t,n){return ut.decode(nt().subarray(t,t+n))}async function at(t){void 0===t&&(t=new URL("quake_wasm_bg.wasm",import.meta.url)),("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:i}=await async function(t,n){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,n)}catch(n){if("application/wasm"==t.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const i=await t.arrayBuffer();return await WebAssembly.instantiate(i,n)}{const i=await WebAssembly.instantiate(t,n);return i instanceof WebAssembly.Instance?{instance:i,module:t}:i}}(await t,{});return Z=n.exports,at.__wbindgen_wasm_module=i,Z}var ht;ut.decode(),function(t){t[t.Empty=0]="Empty",t.Search="Search",t.Action="Action",t.Transflow="Transflow"}(ht||(ht={}));let ft=class{constructor(i){var e;t(this,i),this.dispatchAction=n(this,"dispatchAction",7),this.indexName="",this.items=[],this.list={},this.isAction=!1,this.query="",this.inputType=ht.Empty,this.actionDefine=null,this.entries_info=[],this.actions_list=[],this.selected_entry=null,this.selected_flow_result=new Map,this.selected_result=[],this.is_flow=!1,this.offset={},this.flow_index=1,this.generated_code="",this.layout={},this.showSimpleLayout=!0,this.client=(null===(e=window.Quake)||void 0===e?void 0:e.client)?window.Quake.client:new u.MeiliSearch({host:"http://127.0.0.1:7700"})}componentWillLoad(){(async function(){await at()})().then((()=>{}));const t=this;this.loadingElement("suggest",{},(n=>{t.entries_info=n.data.entries,t.actions_list=n.data.actions})).then((()=>{})),this.loadingElement("layout",{},(n=>{t.layout=n.data})).then((()=>{}))}async loadingElement(t,n={},i){const e=document.createElement("ion-loading");e.cssClass="my-custom-class",e.message="Please wait...",e.duration=500;const r=document.createElement("fetch-api");r.setAttribute("type",t),r.setAttribute("params",JSON.stringify(n)),r.addEventListener("fetchSuccess",(t=>{let n=t.detail;e.onDidDismiss().then((()=>{})),i(n)})),e.appendChild(r),document.body.appendChild(e),await e.present()}handleInput(t){this.query=t.target.value,this.handleQuery(this),this.showSimpleLayout=!1}handleQuery(t){if(0==this.query.length)return this.items=[],this.inputType=ht.Empty,void(this.list={});this.query.startsWith("/")?this.inputType=ht.Action:this.query.startsWith(":")?this.inputType=ht.Transflow:(this.actionDefine=null,this.inputType=ht.Search,this.createSearch(t))}createSearch(t){for(let n of this.entries_info)this.search_item(t,n.type)}search_item(t,n){this.client.index(n).search(t.query,{attributesToHighlight:["overview"]}).then((i=>{t.list[n]=i.hits,t.items=i.hits}))}queryItems(t){return this.client.index(this.selected_entry.type).search("",{attributesToHighlight:["overview"],limit:40,offset:t})}formatDate(t){return Q(1e3*t).format("YYYY-MM-DD")}padLeft(t,n,i){return Array(n-String(t).length+1).join(i||"0")+t}async selectType(t,n){this.reset_input(),this.selected_entry=n,this.query="/"+n.type+".",this.handleQuery(this)}async addAction(t,n){if(this.reset_input(),this.showSimpleLayout=!1,this.selected_entry){if("show"==n){let t=this.selected_entry.type;this.offset[t]=0,this.queryItems(this.offset[t]).then((n=>{this.offset[t]=this.offset[t]+40;let i=n.hits;this.is_flow=!!this.selected_entry.flows,this.is_flow?this.process_flow(i):this.selected_result=i}))}this.query.startsWith("/")&&this.query.endsWith(".")&&(this.query=this.query+n,this.handleQuery(this))}}process_flow(t){var n;this.is_flow=!0;let i=new Map,e=this.selected_entry.flows[0];for(let t of e.items)i.set(t,[]);for(let e of t)null===(n=i.get(e.status))||void 0===n||n.push(e);this.selected_flow_result=i}reset_input(){this.selected_result=[],this.selected_flow_result=new Map}async createTransflow(){let t=`temp_${this.flow_index}`,n=this.query.substring(1);(async function(t,n){var i;if(null===(i=window.Quake)||void 0===i?void 0:i.pagedump){let i=`transflow ${t} { ${n} } `,e=await G.get("/entry/defines").then((t=>t.data));return function(t,n){try{const u=Z.__wbindgen_add_to_stack_pointer(-16);var i=rt(t,Z.__wbindgen_malloc,Z.__wbindgen_realloc),e=V,r=rt(n,Z.__wbindgen_malloc,Z.__wbindgen_realloc);Z.flow_to_code(u,i,e,r,V);var s=ot()[u/4+0],o=ot()[u/4+1];return ct(s,o)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(s,o)}}(i,JSON.stringify(e))}return G.post(`/transflow/translate/${t}`,{flow:n}).then((t=>t.data))})(t,n).then((n=>{n=n+"\n "+`Quake.router.addRoutes({path: '/transflow/show_${t}', action: tl_${t} },)`;const i=document.createElement("script");i.setAttribute("id",`temp-${this.flow_index}`),this.generated_code=n,i.innerHTML=n,document.body.appendChild(i);const e=document.createElement("a");e.setAttribute("href",`/transflow/show_${t}/`),e.innerText=t,document.getElementById("transflow-nav").appendChild(e),this.flow_index=this.flow_index+1}))}async handleSubmit(t){if(t.preventDefault(),this.query.startsWith(":"))return this.inputType=ht.Transflow,void await this.createTransflow();if(!this.query.startsWith("/"))return void(this.inputType=ht.Search);const n=this;(async function(t){var n;return(null===(n=window.Quake)||void 0===n?void 0:n.pagedump)?JSON.parse(function(t){try{const r=Z.__wbindgen_add_to_stack_pointer(-16);var n=rt(t,Z.__wbindgen_malloc,Z.__wbindgen_realloc);Z.parse_action(r,n,V);var i=ot()[r/4+0],e=ot()[r/4+1];return ct(i,e)}finally{Z.__wbindgen_add_to_stack_pointer(16),Z.__wbindgen_free(i,e)}}(t)):G.get("/action/query/",{params:{input:t}}).then((t=>t.data))})(this.query.substring(1)).then((t=>{t.object?(n.actionDefine=t,n.dispatchAction.emit(t)):(n.actionDefine=null,n.presentToast(t.msg))})).catch((function(t){console.log(t)}))}editEntry(t,n){this.dispatchAction.emit({parameters:[t],action:"update",object:n})}showEntry(t,n){this.dispatchAction.emit({parameters:[t],action:"show",object:n})}async presentToast(t){const n=document.createElement("ion-toast");return n.message=t,n.duration=2e3,document.body.appendChild(n),n.present()}loadData(t){if(this.infiniteScroll&&this.infiniteScroll.disabled)return"no more data";console.log("Loaded data");let n=this.selected_entry.type;this.queryItems(this.offset[n]).then((t=>{this.offset[n]=this.offset[n]+40,this.infiniteScroll.complete().then((()=>{}));let i=t.hits;0!=i.length?(this.selected_result=this.selected_result.concat(i),console.log(this.selected_result.length)):this.infiniteScroll.disabled=!0}))}render(){return i("ion-app",null,i("ion-header",{translucent:!0},i("ion-toolbar",null,i("ion-item",null,this.inputType!==ht.Empty?i("ion-chip",null,i("ion-icon",{name:"airplane-outline"}),i("ion-label",null,this.inputType)):null,i("form",{id:"search-form",onSubmit:this.handleSubmit.bind(this)},i("ion-input",{placeholder:"`/todo.add: hello, world` for create `todo`",autofocus:!0,value:this.query,ref:t=>this.ionInputElement=t,onIonInput:this.handleInput.bind(this)}),i("input",{type:"submit",value:"Submit",id:"submit-button"}))),i("ion-item",null,this.entries_info.map((t=>i("ion-button",{onClick:n=>this.selectType(n,t)},t.type))),this.actions_list.map((t=>i("ion-button",{class:"dark-button",onClick:n=>this.addAction(n,t)},t)))))),i("ion-content",{fullscreen:!0},i("ion-grid",null,i("ion-row",null,this.generated_code&&i("pre",null,i("code",{class:"javascript"},this.generated_code)),this.entries_info.map((t=>this.list[t.type]&&this.list[t.type].length>0?this.renderSearchCol(t):null)),this.is_flow&&Array.from(this.selected_flow_result.keys()).map((t=>this.renderFlowByKey(t))),!this.is_flow&&this.selected_result&&this.selected_result.map((t=>this.renderCards(t,this.selected_entry.type))),!this.is_flow&&this.selected_result.length>0&&i("ion-infinite-scroll",{ref:t=>this.infiniteScroll=t,onIonInfinite:t=>this.loadData(t)},i("ion-infinite-scroll-content",{loadingSpinner:"bubbles",loadingText:"Loading more data..."})))),this.showSimpleLayout&&this.layout&&i("simple-layout",{layout:this.layout})))}renderFlowByKey(t){return i("ion-col",null,i("ion-text",{color:"secondary"},t),i("ion-list",null,this.selected_flow_result.get(t).map((t=>i("ion-card",null,i("ion-card-header",null,i("ion-card-subtitle",null,"# ",this.padLeft(t.id,4,""),i("ion-icon",{name:"book-outline",onClick:()=>this.showEntry(t.id,this.selected_entry.type)}),i("ion-icon",{name:"create-outline",onClick:()=>this.editEntry(t.id,this.selected_entry.type)})),i("ion-card-title",null,t.title)),i("ion-card-content",null,t.description&&i("p",null,t.description),i("ion-badge",{slot:"start"},this.formatDate(t.created_date))))))))}renderSearchCol(t){return i("ion-col",null,i("ion-text",{color:"secondary"},t.type),this.list[t.type]?this.list[t.type].map((n=>i("ion-list",null,this.renderCards(n,t.type)))):null)}renderCards(t,n){return i("div",{class:"entry-show-list"},i("ion-card",null,i("ion-card-header",null,i("ion-card-subtitle",null,"# ",this.padLeft(t.id,4,""),i("ion-icon",{name:"book-outline",onClick:()=>this.showEntry(t.id,n)}),i("ion-icon",{name:"create-outline",onClick:()=>this.editEntry(t.id,n)})),i("ion-card-title",null,t.title)),i("ion-card-content",null,t.description&&i("p",null,t.description),i("ion-badge",{slot:"start"},this.formatDate(t.created_date)))))}renderConditionSearch(){return i("ion-item",null,i("select",null,i("option",{value:"last_week"},"Last Week"),i("option",{value:"last_month"},"Last Month"),i("option",{value:"last_quarter"},"Last Quarter"),i("option",{value:"last_year"},"Last Year")),i("ion-text",null,"Created Date"),i("input",{type:"date",id:"created_date",name:"trip-start"}),i("ion-text",null,"Updated Date"),i("input",{type:"date",id:"end_date",name:"trip-start"}))}get el(){return r(this)}};ft.style=":host{display:block;height:100%;overflow:hidden}.dark-button{--background:#000}#submit-button{display:none}#search-form{width:80%;margin-bottom:0}ion-icon{font-size:24px;padding:4px;float:right}ion-icon:hover{cursor:pointer}";let dt=class{constructor(n){t(this,n),this.flowMap={},this.slots=[]}componentWillRender(){this.createFlows()}createFlows(){const t=this;if(!(this.layout.rows&&this.layout.rows.length>0))return;let n=0;for(let i of this.layout.rows){let e=0;for(let r of i.columns){let i=t.layoutId(n,e);r.is_pure_component?this.createPureComponent(r,t,i):this.createFlowComponent(r,t,i),e+=1}n+=1}}createPureComponent(t,n,i){let e=document.createElement(t.flow);n.flowMap[i]||(n.flowMap[i]={}),setTimeout((()=>{n.flowMap[i].hostEl.appendChild(e)}),0)}createFlowComponent(t,n,i){let e="tl_"+t.flow;try{let t=window.Quake.flows[e];t&&(console.log("calling: "+e),t({},{}).then((t=>{n.flowMap[i].hostEl.appendChild(t)})))}catch(t){console.error(t)}}layoutId(t,n){return"layout-"+t+"-"+n}addElementToMap(t,n){this.flowMap[n]||(this.flowMap[n]={}),this.flowMap[n].hostEl=t,this.flowMap[n].id=n}render(){return i(e,{ref:t=>this.hostEl=t},!!this.layout.rows&&i("ion-grid",null,this.layout.rows.map(((t,n)=>i("ion-row",null,t.columns.map(((t,e)=>i("ion-col",{class:"quake-component",size:t.size.toString(),ref:t=>this.addElementToMap(t,this.layoutId(n,e))},t.name))))))))}};dt.style=":host{display:block}.quake-component{min-height:300px}";export{K as fetch_api,ft as quake_dashboard,dt as simple_layout}