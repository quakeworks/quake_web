import{w as i,B as e}from"./p-b4928e3a.js";import{a}from"./p-da3c401c.js";const n="ionViewWillLeave",o="ionViewDidLeave",s="ionViewWillUnload",t=e=>new Promise(((a,n)=>{i((()=>{r(e),c(e).then((i=>{i.animation&&i.animation.destroy(),d(e),a(i)}),(i=>{d(e),n(i)}))}))})),r=i=>{const e=i.enteringEl,a=i.leavingEl;P(e,a,i.direction),i.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),h(e,!1),e.style.setProperty("pointer-events","none"),a&&(h(a,!1),a.style.setProperty("pointer-events","none"))},c=async i=>{const a=await p(i);return a&&e.isBrowser?w(a,i):l(i)},d=i=>{const e=i.enteringEl,a=i.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),void 0!==a&&(a.classList.remove("ion-page-invisible"),a.style.removeProperty("pointer-events"))},p=async i=>{if(i.leavingEl&&i.animated&&0!==i.duration)return i.animationBuilder?i.animationBuilder:"ios"===i.mode?(await import("./p-dff6ad8b.js")).iosTransitionAnimation:(await import("./p-e60ae1d5.js")).mdTransitionAnimation},w=async(i,e)=>{await v(e,!0);const a=i(e.baseEl,e);u(e.enteringEl,e.leavingEl);const n=await b(a,e);return e.progressCallback&&e.progressCallback(void 0),n&&f(e.enteringEl,e.leavingEl),{hasCompleted:n,animation:a}},l=async i=>{const e=i.enteringEl,a=i.leavingEl;return await v(i,!1),u(e,a),f(e,a),{hasCompleted:!0}},v=async(i,e)=>{const a=(void 0!==i.deepWait?i.deepWait:e)?[V(i.enteringEl),V(i.leavingEl)]:[y(i.enteringEl),y(i.leavingEl)];await Promise.all(a),await m(i.viewIsReady,i.enteringEl)},m=async(i,e)=>{i&&await i(e)},b=(i,e)=>{const a=e.progressCallback,n=new Promise((e=>{i.onFinish((i=>e(1===i)))}));return a?(i.progressStart(!0),a(i)):i.play(),n},u=(i,e)=>{g(e,"ionViewWillLeave"),g(i,"ionViewWillEnter")},f=(i,e)=>{g(i,"ionViewDidEnter"),g(e,"ionViewDidLeave")},g=(i,e)=>{if(i){const a=new CustomEvent(e,{bubbles:!1,cancelable:!1});i.dispatchEvent(a)}},y=i=>i?new Promise((e=>a(i,e))):Promise.resolve(),V=async i=>{const e=i;if(e){if(null!=e.componentOnReady&&null!=await e.componentOnReady())return;await Promise.all(Array.from(e.children).map(V))}},h=(i,e)=>{e?(i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")):(i.hidden=!1,i.removeAttribute("aria-hidden"),i.classList.remove("ion-page-hidden"))},P=(i,e,a)=>{void 0!==i&&(i.style.zIndex="back"===a?"99":"101"),void 0!==e&&(e.style.zIndex="100")},L=i=>{if(i.classList.contains("ion-page"))return i;return i.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||i};export{s as L,n as a,o as b,V as d,L as g,g as l,h as s,t}